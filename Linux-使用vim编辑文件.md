###打开一个终端，输入以下命令

```
cd /tmp

cp /etc/man.conf .   （cp /etc/man_db.conf .）

ll
```

此时令该能看到一个文件叫man_db.conf

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps1.jpg) 

###打开man_db.config文件进行下面的操作，每个操作都是用快捷命令实现

```
vi man_db.conf
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps2.jpg) 

***\*命令操作\****

**1.** ***\*让vi显示行号\****

进入末行模式（命令模式中输入“:”），命令为【:set nu】

注：（:set nonu为不显示）

```
:set nu
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps3.jpg) 

**2.** ***\*移动到这个文件的60行,第39个字符所在的单词是什么？\****

①移动到这个文件的60行

命令模式【60G】 或末行模式【:60】

注：（gg到第一行，G到末行）

②第39个字符所在的单词

命令模式【39->】或【39+空格】

注：（数字0到行首，$到行末）

```
60G
```

```
39->
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps4.jpg) 

**3.** ***\*移动到第一行，搜索一下bzip2这个字符串，它在第几行\****

①到第一行

命令模式【gg】

②搜索一下bzip2这个字符串

进入查询模式（命令模式中输入“/”），命令为【/bzip2】

```
gg
```

```
/bzip2
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps5.jpg) 

4. ***\*第三行的位置上添加一行，并且输入test\****

①到第三行

命令模式【3G】

②添加一行并且输入test

进入输入模式（命令模式->a,A,i,I,o,O），命令为【o】

注：（小写o下面添行，大写O上面添行）

```
3G
```

```
O
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps6.jpg) 

**5.** ***\*尝试把第50行到100行之间的小写man改成大写MAN，不会可以不做\****

末行模式【:50,100s/man/MAN/gc】

```
:50,100s/man/MAN/gc
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps7.jpg) 

**6.** ***\*把刚才所有的修改撤销\****

命令模式【u】或末行模式【:q!不修改退出:e!放弃所有更改】

```
:e!
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps8.jpg) 

**7.** ***\*复制20到30行的数据到文件末尾\****

①到第20行

命令模式【20G】

②复制20到30行

命令模式【11yy】或【y11y】

注：（yy复制所在行）

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps9.jpg) 

③粘贴到末尾

命令模式【G】（到最后一行）【p】（粘贴）

注：（大写P粘贴到光标前，小写p粘贴到光标后）

```
20G
```

```
11yy
```

```
G
```

```
p
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps10.jpg) 

**8.** ***\*删除55到60行的数据\****

①到第55行

命令模式【55G】

②删除55到60行

命令模式【6dd】

注：（dd删除当前行）

```
55G
```

```
6dd
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps11.jpg) 

**9.** ***\*到第15行，删除15个字符\****

①到第15行

命令模式【15G】

②删除15个字符

命令模式【15x】

注：（x删除一个字符）

```
15G
```

```
15x
```

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps12.jpg) 

![img](file:///C:\Users\BALABA~1\AppData\Local\Temp\ksohtml7060\wps13.jpg) 



##总结：

####vim 5种编辑模式：命令、输入、末行、可视化、查询

| 模式     | 进入操作                                                     |
| -------- | ------------------------------------------------------------ |
| 命令模式 | 启 动Vim后的默认模式，其他模式下要回到命令模式，按【Esc】即可 |
| 输入模式 | 是在命令模式下输入直接输入输入命令(a,A,i,I,o,O)              |
| 末行模式 | 是在命令模式下输入【:】                                      |

1. 命令模式

   | 按键 | 说明             | 按键      | 说明             |
   | ---- | ---------------- | --------- | ---------------- |
   | h    | 左移             | 0（Home） | 移至行首         |
   | j    | 右移             | $（End）  | 移至末尾         |
   | k    | 下移             | gg        | 移至首行         |
   | l    | 上移             | G         | 移至末行         |
   | b    | 移动到上一个单词 | w（W）    | 移动到下一个单词 |

   | 按键       | 说明                   | 按键 | 说明         |
   | ---------- | ---------------------- | ---- | ------------ |
   | yy（Y）    | 复制所在行             | yw   | 复制一个word |
   | nyy（yny） | 复制n行                | ynw  | 复制n个字    |
   | y0         | 复制至行首（不含光标） | yG   | 复制至文件末 |
   | y$         | 复制至行末（含光标）   | y1G  | 复制至文件首 |
   | p          | 粘贴到光标后           | P    | 粘贴到光标前 |

   | 按键 | 说明              | 按键     | 说明               |
   | ---- | ----------------- | -------- | ------------------ |
   | x    | 删除1个字符       | d$       | 删除至行末         |
   | nx   | 删除n个字符       | d0       | 删除至行首         |
   | dd   | 删除当前行        | dw       | 删至词尾           |
   | ndd  | 删除n行（含光标） | ndw      | 删除后n个词        |
   | dG   | 删除至文件末      | u        | 取消上一个更动     |
   | d1G  | 删除至文件首      | U        | 取消一行内所有更动 |
   | X    | 删除光标前的字符  | d+方向键 | 删除文字           |

2. 输入模式

   | 按键 | 说明       | 按键 | 说明         |
   | ---- | ---------- | ---- | ------------ |
   | a    | 光标后插入 | A    | 当前行末插入 |
   | i    | 光标前插入 | I    | 当前行首插入 |
   | o    | 下一行插入 | O    | 上一行插入   |

3. 末行模式

   | 按键                | 说明                | 按键      | 说明           |
   | ------------------- | ------------------- | --------- | -------------- |
   | :q                  | 退出，不保存        | :e 文件名 | 打开新文件     |
   | :q!                 | 强制退出，不保存    | :e！      | 放弃所有更改   |
   | :w [文件名]         | 另存为              | :r 文件名 | 下一行插入文件 |
   | :wq  (:x)           | 保存并退出          | :r！命令  | 插入命令结果   |
   | :set nu 或:set nonu | 显示行号/不显示行号 | :number   | 移至number行   |

   ```
   :[range]s/pattern/string/[g,c,e,i]   替换字符串
   ```

   range：范围

   s：表搜索

   pattern：被替换字符串

   string：将替换pattern

   c：每次替换前会询问

   e：不显示错误

   g：不询问，做整行替换

   i：不分大小写

   g一般都加，不然只会替换每一行的第一个符合字串  

4. 可视化模式

   在命令模式下输入v则进入可视化模式。在该模式下，移动光标以选定要操作的字符串，输入c剪切选定块的字符串，输入y复制选定块的字符串。

5. 查询模式

   在命令模式下输入对应字符

   | 按键 | 说明             | 按键 | 说明             |
   | ---- | ---------------- | ---- | ---------------- |
   | /    | 向（下）查找字符 | n    | 继续查找         |
   | ？   | 向（上）查找字符 | N    | 继续查找（反向） |

   